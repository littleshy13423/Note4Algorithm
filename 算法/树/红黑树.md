# 红黑树

红黑树（Red-Black Tree）是一种自平衡的[二叉搜索树（Binary Search Tree, BST）](./BinarySearchTree.md)，它能够保证在最坏情况下，基本动态集合操作的时间复杂度为O(logn)。红黑树在插入、删除和查找操作后，通过颜色标记和旋转操作来保持树的平衡。

## 红黑树的性质

红黑树是一种带有颜色属性的二叉搜索树，每个节点除了包含普通的键值信息外，还包含一个额外的颜色属性（红或黑）。红黑树通过维护以下性质来确保树的平衡：

节点是红色或黑色的：每个节点或者是红色的，或者是黑色的。

根节点是黑色的：红黑树的根节点必须是黑色的。

所有叶子节点（NIL节点）都是黑色的：这里的叶子节点是指树的末端的 nullptr，通常被称为 NIL 节点，在实现时，它们是特殊的黑色哨兵节点。

红色节点的子节点必须是黑色的（红色节点不能有红色子节点）：红黑树中，红色节点的两个子节点都是黑色的，或者说红色节点不能有红色的父节点（即不允许两个连续的红色节点）。

从任一节点到其所有后代叶子节点的简单路径上，必须包含相同数目的黑色节点（即黑高相同）：这确保了从根到叶子的最长路径不会超过最短路径的两倍，从而保证了树的平衡。

红黑树的结构
节点结构：每个节点包含键值、颜色（红色或黑色）、左子节点指针、右子节点指针和父节点指针。颜色属性：用于保持树的平衡。

## stl实现

<https://github.com/gcc-mirror/gcc/blob/37c21d4c6ad0afe2aacdd6384b9efa96f5754169/libstdc%2B%2B-v3/include/bits/stl_tree.h#L53>
